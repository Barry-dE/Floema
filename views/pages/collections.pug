extends ../base.pug

block variables
  - var template = 'collections'

block content  
  .collections(data-background="#BC978C" data-color="#F9F1E7")
    .collections__wrapper
      .collections__titles
      each collection, index in collections
        .collections__titles__label
          = `${home.data.collection} ${index === 0 ? 'One' : index === 1 ? 'Two' : index === 2 ? 'Three' : index === 3 ? 'Four' : ''}`
        .collections__titles__title= collection.data.title 
      
      .collections__gallery 
        .collections__gallery__wrapper
          script.
            console.log(!{JSON.stringify(collections, null, 2)});
          each collection in collections
            each product in collection.data.products
              a.collections__gallery__link
                figure.collections__gallery__link 
                  if product.products_product && product.products_product.data && product.products_product.data.image
                    img.collections__gallery__media__image(alt=product.products_product.data.image.alt src=product.products_product.data.image.url)

      .collections__content
        each collection in collections
          article.collections__article
            h2.collections__article__title=`${collection.data.title} ${home.data.collection}`
            p.collections__article__description=collection.data.description


    